# 清新课堂签到二维码生成器

## 项目简介

这是一个响应式 Web 应用，支持电脑端和手机端自适应布局，并可离线使用。它允许用户输入课程 ID，生成专用于 iClass 签到的二维码。同时提供自动刷新、图片保存、扫码识别、标签管理以及分享等实用功能，帮助用户高效管理签到过程。

## 主要功能

- **二维码生成**  
  输入课程 ID，即可生成格式为 `https://iclass.ucas.edu.cn:8181/app/course/stu_scan_sign.action?courseSchedId=${id}&timestamp=${时间戳}` 的二维码。纠错级别为 High，每 5 秒自动刷新一次，确保二维码始终有效。

- **保存二维码图片**  
  支持保存当前时刻或未来（5 秒、10 秒、30 秒、60 秒后）的二维码图片到本地。便于手机用户从相册选择图片进行扫描。

- **扫码识别 ID**  
  通过摄像头扫描二维码或上传图片，自动提取并填充课程 ID，简化输入过程。

- **ID 输入与标签管理**  
  - 支持手动输入 ID，或通过点击标签快速选择已保存的 ID。  
  - 新 ID 可保存为标签，便于后续复用。  
  - 标签管理界面允许添加、编辑或删除标签-ID 对，所有更改自动保存到本地。

- **分享功能**  
  - 主界面一键生成当前课程的分享链接，他人打开后自动填充 ID。  
  - 编辑界面一键生成链接，分享全部标签-ID 记录，他人打开后可直接导入。

## 使用指南

1. **输入或扫码获取 ID**  
   在输入框手动输入课程 ID，或点击扫码按钮，使用摄像头扫描二维码/上传图片自动填充。

2. **选择标签**  
   点击下方标签，快速填充已保存的 ID。

3. **保存新 ID**  
   输入新 ID 后，点击“保存”按钮，进入编辑界面添加标签名称。

4. **管理标签**  
   在编辑界面添加、编辑或删除标签-ID 对，所有修改实时自动保存。

5. **保存二维码图片**  
   选择时间选项（当前/5s/10s/30s/60s 后），点击“保存图片”下载二维码。

6. **分享链接**  
   - 主界面：点击“分享”按钮，复制包含当前 ID 的链接。  
   - 编辑界面：点击“分享全部”按钮，复制包含所有标签-ID 的链接。

## 界面适配与设计

- **横屏模式（宽高比 > 1.33）**  
  页面采用左右双栏布局：头部居中显示在上方；左侧包含输入框、标签、保存和分享操作；右侧仅显示居中的二维码。“保存图片”卡片固定在左侧底部。元素宽度适度缩小，避免主界面纵向滚动；二维码不以悬浮白底卡片形式显示。

- **竖屏/窄屏模式**  
  采用单列布局，所有操作区和二维码从上到下依次排列。编辑界面中，删除按钮置于每个卡片右上角，不单独成行；卡片换行阈值降低，便于小屏多行显示。

- **通用优化**  
  文本、输入框等元素整体缩小，提高信息密度。支持 PWA（Progressive Web App），可离线加载并添加到主屏幕。


## 离线使用功能（PWA）

本应用支持 PWA（Progressive Web App）离线使用功能。首次访问后，用户可将应用“添加到主屏幕”，实现类原生 App 的体验。即使在无网络环境下，也能正常访问和使用所有核心功能，包括二维码生成、标签管理、扫码识别等。离线能力让课堂签到更加高效、便捷。

## 开发与构建

1. **安装依赖**  
   ```bash
   npm install
   ```

2. **启动开发服务器**  
   ```bash
   npm run dev
   ```

3. **构建生产版本**  
   ```bash
   npm run build
   ```

## 技术栈

- React + TypeScript  
- Vite  
- 二维码生成库（qrcode.react）  
- 本地存储（localStorage）  
- PWA 支持  

## 许可协议

本项目采用 MIT 许可证，详情请参阅 LICENSE。
